<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Keep Team">
    
    <title>
        
        Keep Theme
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/logo.svg">
    
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/font/css/regular.min.css">

    
<link rel="stylesheet" href="/font/css/solid.min.css">

    
<link rel="stylesheet" href="/font/css/brands.min.css">

    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en"}
    KEEP.theme_config = {"base_info":{"primary_color":"#0066cc","title":"Keep Theme","author":"Keep Team","avatar":"/images/avatar.svg","logo":"/images/logo.svg","favicon":"/images/logo.svg"},"menu":{"home":"/","archives":"/archives"},"first_screen":{"enable":false,"background_img":"/images/bg.svg","background_img_dark":"/images/bg.svg","description":"Keep writing and Keep loving.","hitokoto":false},"social_contact":{"enable":false,"links":{"github":null,"weixin":null,"qq":null,"weibo":null,"zhihu":null,"twitter":null,"x":null,"facebook":null,"email":null}},"scroll":{"progress_bar":false,"percent":false,"hide_header":true},"home":{"announcement":null,"category":false,"tag":false,"post_datetime":"updated"},"post":{"author_badge":{"enable":true,"level_badge":true,"custom_badge":["One","Two","Three"]},"word_count":{"wordcount":false,"min2read":false},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":false,"share":false,"reward":{"enable":false,"img_link":null,"text":null,"icon":null}},"code_block":{"tools":{"enable":false,"style":"default"},"highlight_theme":"default"},"toc":{"enable":false,"number":false,"expand_all":false,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":false,"site_uv":false,"site_pv":false,"page_pv":false}},"local_search":{"enable":false,"preload":false},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.36"},"waline":{"server_url":null,"reaction":false,"version":"3.2.1"},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":false},"lazyload":{"enable":false},"cdn":{"enable":false,"provider":"cdnjs"},"pjax":{"enable":false},"footer":{"since":2020,"word_count":false,"site_deploy":{"enable":false,"provider":"github","url":null},"record":{"enable":false,"list":[{"code":null,"link":null}]}},"inject":{"enable":false,"css":[null],"js":[null]},"root":"","source_data":{},"version":"4.2.3"}
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"}
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"}
    KEEP.language_copy_copyright = {"copy":"Copy copyright info","copied":"Copied","title":"Original post title","author":"Original post author","link":"Original post link"}
  </script>
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
                <a class="logo-image border-box" href="/">
                    <img src="/images/logo.svg">
                </a>
            
            <a class="site-name border-box" href="/">
               Keep Theme
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                HOME
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/archives">
                                
                                ARCHIVES
                                
                            </a>
                            
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                            HOME
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">
                            
                            ARCHIVES
                        </a>
                        
                    </label>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/avatar.svg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">Keep Team</span>
                                
                                    <span class="author-badge">Lv4</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2025-05-15 22:26:55</span>
            </span>

            <span class="meta-info-item post-update-date">
                <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                <span class="datetime" data-updated="Sun May 18 2025 22:06:57 GMT+0800">2025-05-18 22:06:57</span>
            </span>
        

        

        

        
        
        
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <h1 id="结合项目的问题"><a href="#结合项目的问题" class="headerlink" title="结合项目的问题"></a>结合项目的问题</h1><p><a class="link"   target="_blank" rel="noopener" href="https://vue3js.cn/interview/es6/var_let_const.html" >面试官：说说var、let、const之间的区别 | web前端面试 - 面试官系列<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h2><ul>
<li><p>您好，我叫何定贤，毕业于东北林业大学计算机专业，目前求职方向是前端开发岗位。</p>
<p>在校期间，我参与了多个实战项目。我熟悉 Vue2 和 Vue3，熟练使用 Element Plus 组件库，并能够结合 Electron 开发跨平台桌面应用。在性能优化方面，我有较深入的理解，比如基于 Lighthouse 工具进行性能分析，以及通过事件防抖、虚拟滚动等方式优化前端响应速度和用户体验。</p>
<p>在快商通实习期间，我主导负责了智能外呼系统的开发维护，主要负责数据可视化、聊天记录加载优化和前端性能提升，高亮搜索等需求开发工作，项目中使用 ECharts 和 WebSocket，实现了实时通信与数据动态展示。</p>
<p>此外，我熟练使用 Git，有丰富的团队协作经验，也具备一定的后端基础，对前后端联调和整体架构有清晰的理解。平时我喜欢写博客总结技术问题，也经常使用 ChatGPT 和 DeepSeek 来辅助学习和开发，持续提升自己的工程能力和学习效率。</p>
<p>希望加入贵公司。</p>
</li>
</ul>
<h2 id="谈谈你实习遇到的困难和解决了什么问题"><a href="#谈谈你实习遇到的困难和解决了什么问题" class="headerlink" title="谈谈你实习遇到的困难和解决了什么问题"></a>谈谈你实习遇到的困难和解决了什么问题</h2><h3 id="高亮词汇处理"><a href="#高亮词汇处理" class="headerlink" title="高亮词汇处理"></a>高亮词汇处理</h3><h3 id="1-数据绑定和监听"><a href="#1-数据绑定和监听" class="headerlink" title="1. 数据绑定和监听"></a>1. <strong>数据绑定和监听</strong></h3><ul>
<li><p>使用  <code>keyWords</code>  作为搜索关键字的绑定数据。</p>
</li>
<li><p>通过  <code>v-model</code>  将输入框的值绑定到  <code>keyWords</code>，并监听其变化：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input</span><br><span class="line">  type=<span class="string">&quot;search&quot;</span></span><br><span class="line">  v-model=<span class="string">&quot;keyWords&quot;</span></span><br><span class="line">  placeholder=<span class="string">&quot;请输入搜索内容&quot;</span></span><br><span class="line">  style=<span class="string">&quot;width:140px;margin-top: 10px;&quot;</span></span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在  <code>watch</code>  中监听  <code>keyWords</code>  的变化，当值发生变化时触发  <code>search</code>  方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">  <span class="attr">keyWords</span>: <span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!!newVal) <span class="variable language_">this</span>.<span class="title function_">search</span>();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-高亮逻辑"><a href="#2-高亮逻辑" class="headerlink" title="2. 高亮逻辑"></a>2. <strong>高亮逻辑</strong></h3><ul>
<li><p>在  <code>highlightText</code>  方法中，通过正则表达式将关键字替换为带有高亮样式的 HTML：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">highlightText</span>(<span class="params">text, keyword</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="title class_">RegExp</span>(keyword, <span class="string">&#x27;gi&#x27;</span>); <span class="comment">// 全局搜索且不区分大小写</span></span><br><span class="line">  <span class="keyword">return</span> text.<span class="title function_">replace</span>(regex, <span class="function"><span class="params">match</span> =&gt;</span> <span class="string">`&lt;span class=&quot;highlight&quot;&gt;<span class="subst">$&#123;match&#125;</span>&lt;/span&gt;`</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>在模板中，通过  <code>v-html</code>  动态渲染高亮后的文本：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-html=<span class="string">&quot;highlightText(jtem[0], keyWords)&quot;</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-样式定义"><a href="#3-样式定义" class="headerlink" title="3. 样式定义"></a>3. <strong>样式定义</strong></h3><ul>
<li><p>高亮的样式通过 CSS 定义：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">::v-deep .<span class="property">highlight</span> &#123;</span><br><span class="line">  <span class="attr">color</span>:  <span class="title function_">rgb</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">55</span>); <span class="comment">/* 高亮颜色 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-搜索功能"><a href="#4-搜索功能" class="headerlink" title="4. 搜索功能"></a>4. <strong>搜索功能</strong></h3><ul>
<li><p>在  <code>search</code>  方法中，遍历文本内容，找到包含关键字的项，并记录其索引位置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">search</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">checkIndex</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">locations</span> = [];</span><br><span class="line">  <span class="keyword">if</span> (!!<span class="variable language_">this</span>.<span class="property">keyWords</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">tmpSearch</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">i, index</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (i.<span class="title function_">includes</span>(<span class="variable language_">this</span>.<span class="property">keyWords</span>)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">locations</span>.<span class="title function_">push</span>(index);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">scrollToText</span>(<span class="variable language_">this</span>.<span class="property">checkIndex</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-定位功能"><a href="#5-定位功能" class="headerlink" title="5. 定位功能"></a>5. <strong>定位功能</strong></h3><ul>
<li><p>通过  <code>scrollToText</code>  方法，将当前高亮的文本滚动到可见区域：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">scrollToText</span>(<span class="params">index</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> searchedTextEle = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;spText&quot;</span> + <span class="variable language_">this</span>.<span class="property">locations</span>[index]);</span><br><span class="line">    <span class="keyword">if</span> (searchedTextEle) &#123;</span><br><span class="line">      searchedTextEle.<span class="title function_">scrollIntoView</span>(&#123; <span class="attr">behavior</span>: <span class="string">&quot;smooth&quot;</span>, <span class="attr">block</span>: <span class="string">&quot;end&quot;</span>, <span class="attr">inline</span>: <span class="string">&quot;end&quot;</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="6-上下切换功能"><a href="#6-上下切换功能" class="headerlink" title="6. 上下切换功能"></a>6. <strong>上下切换功能</strong></h3><ul>
<li><p>使用  <code>next</code>  和  <code>previous</code>  方法切换高亮的匹配项：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">checkIndex</span> + <span class="number">1</span> &lt;= <span class="variable language_">this</span>.<span class="property">locations</span>.<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">scrollToText</span>(++<span class="variable language_">this</span>.<span class="property">checkIndex</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">previous</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">checkIndex</span> - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">scrollToText</span>(--<span class="variable language_">this</span>.<span class="property">checkIndex</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>设计的高亮词汇需求是没有问题的，在搜索的时候确实能够将搜搜的词汇高亮，同时再点击下一个的时候也能正常滚动，但是触发文字对话的功能又出 bug 了</p>
</li>
<li><p>因为之前点击事件绑定在文字 span 元素上，触发 handleText 方法,我用的方法是但是其实是将应该绑定的是 span 上的参数，在事件处理函数  <code>handleText</code>  中，<code>event.target</code>  指向的是触发事件的最内层元素，也就是  <code>div</code>  但是实际上绑定的数据并不在内层里，当时我尝试过在内层阻止冒泡调用 click.stop 但是最后失败了因为数据不在内层，这里有两种方法，可以直接把参数传到内层，但是我采用的是直接修改 event 属性 currentTarget。而  <code>event.currentTarget</code>  指向的是绑定事件的元素，即  <code>span</code><strong>，但是我在调试的时候发现 event.currentTarget 是空的，不知道发生了什么</strong> （这里可以作为反问环节）</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleText</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">audioPlayer</span>.<span class="property">$refs</span>.<span class="property">audio</span>.<span class="property">currentTime</span> = event.<span class="property">target</span>.<span class="title function_">getAttribute</span>(<span class="string">&quot;start_s&quot;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;play000000000000000000000000&#x27;</span>)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">audioPlayer</span>.<span class="title function_">play</span>()</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="提到了冒泡机制谈一谈你对冒泡机制的理解？"><a href="#提到了冒泡机制谈一谈你对冒泡机制的理解？" class="headerlink" title="提到了冒泡机制谈一谈你对冒泡机制的理解？"></a>提到了冒泡机制谈一谈你对冒泡机制的理解？</h3><ul>
<li><p><a class="link"   target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn_web_development/Core/Scripting/Event_bubbling" >事件冒泡 - 学习 Web 开发 | MDN<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p>我曾经在编写模态框的时候出现过这种问题</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Custom Modal<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/icon?family=Material+Icons&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      * &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">top</span>: -<span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: top <span class="number">0.3s</span> ease;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-header</span>,</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-content</span>,</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-footer</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid black;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-footer</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: right;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: auto;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">button</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line">        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis, similique vel! Ipsam</span><br><span class="line">        architecto porro excepturi, maxime perspiciatis dignissimos nemo adipisci. Facere maxime</span><br><span class="line">        necessitatibus aut vitae rem consectetur eos blanditiis nam?</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-modal-target</span>=<span class="string">&quot;#myModal&quot;</span>&gt;</span>打开模态框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myModal&quot;</span> <span class="attr">class</span>=<span class="string">&quot;modal&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog-header&quot;</span>&gt;</span>Modal Title<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog-content&quot;</span>&gt;</span></span><br><span class="line">            Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus fugit, animi</span><br><span class="line">            perspiciatis, vel explicabo ratione alias facere laudantium deserunt officiis, ipsa</span><br><span class="line">            repudiandae. Eligendi tenetur porro quibusdam, inventore non sed! Nobis!</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog-footer&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-modal-dismiss</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-modal-dismiss</span>&gt;</span>Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&#x27;[data-modal-target]&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> myModal = $(<span class="variable language_">this</span>).<span class="title function_">data</span>(<span class="string">&#x27;modal-target&#x27;</span>) <span class="comment">//获取modal</span></span></span><br><span class="line"><span class="language-javascript">          $(myModal).<span class="title function_">fadeIn</span>(<span class="number">500</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="variable language_">this</span>).<span class="title function_">find</span>(<span class="string">&#x27;.modal-dialog&#x27;</span>).<span class="title function_">animate</span>(&#123; <span class="attr">top</span>: <span class="string">&#x27;30px&#x27;</span> &#125;, <span class="number">300</span>, <span class="string">&#x27;swing&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">function</span> <span class="title function_">hideDialog</span>(<span class="params">modal</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(modal).<span class="title function_">fadeOut</span>(<span class="number">500</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              $(<span class="variable language_">this</span>).<span class="title function_">find</span>(<span class="string">&#x27;.modal-dialog&#x27;</span>).<span class="title function_">animate</span>(&#123; <span class="attr">top</span>: <span class="string">&#x27;-50%&#x27;</span> &#125;, <span class="number">300</span>, <span class="string">&#x27;swing&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          $(<span class="string">&#x27;.modal&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">hideDialog</span>(<span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript">          $(<span class="string">&#x27;.modal-dialog&#x27;</span>).<span class="title function_">click</span>(<span class="function">() =&gt;</span> <span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          $(<span class="string">&#x27;[data-modal-dismiss]&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">hideDialog</span>($(myModal))</span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Custom Modal<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/icon?family=Material+Icons&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      * &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">top</span>: -<span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: top <span class="number">0.3s</span> ease;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-header</span>,</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-content</span>,</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-footer</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid black;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font</span>: <span class="number">30px</span> bold;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.modal-dialog-footer</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: right;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: auto;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      buttton &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line">        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis,</span><br><span class="line">        similique vel! Ipsam architecto porro excepturi, maxime perspiciatis</span><br><span class="line">        dignissimos nemo adipisci. Facere maxime necessitatibus aut vitae rem</span><br><span class="line">        consectetur eos blanditiis nam?</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-modal-target</span>=<span class="string">&quot;#myModal&quot;</span>&gt;</span>打开模态框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myModal&quot;</span> <span class="attr">class</span>=<span class="string">&quot;modal&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog-header&quot;</span>&gt;</span>Modal Title<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog-content&quot;</span>&gt;</span></span><br><span class="line">            Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus</span><br><span class="line">            fugit, animi perspiciatis, vel explicabo ratione alias facere</span><br><span class="line">            laudantium deserunt officiis, ipsa repudiandae. Eligendi tenetur</span><br><span class="line">            porro quibusdam, inventore non sed! Nobis!</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog-footer&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-modal-dismiss</span>&gt;</span>Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-modal-dismiss</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听激活模态框的按钮点击事件</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;[data-modal-target]&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> targetModal = $(<span class="variable language_">this</span>).<span class="title function_">data</span>(<span class="string">&quot;modal-target&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          $(targetModal).<span class="title function_">fadeIn</span>(<span class="number">300</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="variable language_">this</span>).<span class="title function_">find</span>(<span class="string">&quot;.modal-dialog&quot;</span>).<span class="title function_">animate</span>(&#123; <span class="attr">top</span>: <span class="string">&quot;30px&quot;</span> &#125;, <span class="number">300</span>);</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听模态框背景区域点击事件，关闭模态框</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;.modal&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          $(<span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">find</span>(<span class="string">&quot;.modal-dialog&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">animate</span>(&#123; <span class="attr">top</span>: <span class="string">&quot;-50%&quot;</span> &#125;, <span class="number">300</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              $(<span class="variable language_">this</span>).<span class="title function_">closest</span>(<span class="string">&quot;.modal&quot;</span>).<span class="title function_">fadeOut</span>(<span class="number">300</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 阻止事件冒泡，避免点击模态框内容区域关闭模态框</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;.modal-dialog&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          event.<span class="title function_">stopPropagation</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听关闭按钮点击事件，关闭模态框</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;[data-modal-dismiss]&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          $(<span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">closest</span>(<span class="string">&quot;.modal&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">find</span>(<span class="string">&quot;.modal-dialog&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">animate</span>(&#123; <span class="attr">top</span>: <span class="string">&quot;-50%&quot;</span> &#125;, <span class="number">300</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              $(<span class="variable language_">this</span>).<span class="title function_">closest</span>(<span class="string">&quot;.modal&quot;</span>).<span class="title function_">fadeOut</span>(<span class="number">300</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="监听剪切板是怎么实现的，为什么这么设计？为什么设计节流？"><a href="#监听剪切板是怎么实现的，为什么这么设计？为什么设计节流？" class="headerlink" title="监听剪切板是怎么实现的，为什么这么设计？为什么设计节流？"></a>监听剪切板是怎么实现的，为什么这么设计？为什么设计节流？</h3><h3 id="怎么处理的万级数据的加载？"><a href="#怎么处理的万级数据的加载？" class="headerlink" title="怎么处理的万级数据的加载？"></a>怎么处理的万级数据的加载？</h3><h2 id="怎么对接的AI服务"><a href="#怎么对接的AI服务" class="headerlink" title="怎么对接的AI服务"></a>怎么对接的AI服务</h2><h2 id="二次封装实现的Echart怎么封装的？都有什么参数？雷达图怎么设计的？为什么二次封装？"><a href="#二次封装实现的Echart怎么封装的？都有什么参数？雷达图怎么设计的？为什么二次封装？" class="headerlink" title="二次封装实现的Echart怎么封装的？都有什么参数？雷达图怎么设计的？为什么二次封装？"></a>二次封装实现的Echart怎么封装的？都有什么参数？雷达图怎么设计的？为什么二次封装？</h2><h2 id="节流和防抖讲一下？"><a href="#节流和防抖讲一下？" class="headerlink" title="节流和防抖讲一下？"></a>节流和防抖讲一下？</h2><p>以下是手写节流（Throttle）和防抖（Debounce）函数的详细实现及解析：</p>
<h3 id="一、防抖函数（Debounce）"><a href="#一、防抖函数（Debounce）" class="headerlink" title="一、防抖函数（Debounce）"></a><strong>一、防抖函数（Debounce）</strong></h3><p><strong>原理</strong>：在事件触发后，延迟执行回调函数，若在延迟期间再次触发事件，则重新计时。适用于需要将多次操作合并为一次的场景（如搜索框实时搜索、窗口 resize 事件）。</p>
<h4 id="1-基础实现"><a href="#1-基础实现" class="headerlink" title="1. 基础实现"></a><strong>1. 基础实现</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay = <span class="number">300</span></span>) &#123;</span><br><span class="line"> <span class="keyword">let</span> timer = <span class="literal">null</span>; <span class="comment">// 定时器引用</span></span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"> <span class="keyword">const</span> context = <span class="variable language_">this</span>; <span class="comment">// 保存调用上下文</span></span><br><span class="line"> <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer); <span class="comment">// 清除前一次定时器</span></span><br><span class="line"> timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args); <span class="comment">// 延迟执行回调</span></span><br><span class="line"> &#125;, delay);</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-带立即执行版本"><a href="#2-带立即执行版本" class="headerlink" title="2. 带立即执行版本"></a><strong>2. 带立即执行版本</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay = <span class="number">300</span>, immediate = <span class="literal">false</span></span>) &#123;</span><br><span class="line"> <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"> <span class="keyword">let</span> lastExecTime = <span class="number">0</span>; <span class="comment">// 记录上次执行时间</span></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line"> <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line"> timer = <span class="literal">null</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"> <span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br><span class="line"> <span class="keyword">const</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 立即执行模式：在首次触发时立即执行，之后进入延迟</span></span><br><span class="line"> <span class="keyword">if</span> (immediate &amp;&amp; !timer) &#123;</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"> lastExecTime = now;</span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> <span class="comment">// 计算剩余延迟时间（避免连续触发时延迟叠加）</span></span><br><span class="line"> <span class="keyword">const</span> remaining = delay - (now - lastExecTime);</span><br><span class="line"> <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"> lastExecTime = now;</span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> <span class="title function_">clear</span>();</span><br><span class="line"> timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"> lastExecTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"> &#125;, remaining);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-使用示例"><a href="#3-使用示例" class="headerlink" title="3. 使用示例"></a><strong>3. 使用示例</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 搜索框防抖示例</span></span><br><span class="line"><span class="keyword">const</span> searchInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;search&#x27;</span>);</span><br><span class="line">searchInput.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, <span class="title function_">debounce</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;执行搜索：&#x27;</span>, value);</span><br><span class="line">&#125;, <span class="number">500</span>));</span><br></pre></td></tr></table></figure>

<h3 id="二、节流函数（Throttle）"><a href="#二、节流函数（Throttle）" class="headerlink" title="二、节流函数（Throttle）"></a><strong>二、节流函数（Throttle）</strong></h3><p><strong>原理</strong>：确保函数在指定时间内只执行一次，无论事件触发多少次。适用于需要控制执行频率的场景（如滚动事件、鼠标移动追踪）。</p>
<h4 id="1-时间戳版本（立即执行）"><a href="#1-时间戳版本（立即执行）" class="headerlink" title="1. 时间戳版本（立即执行）"></a><strong>1. 时间戳版本（立即执行）</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, limit = <span class="number">300</span></span>) &#123;</span><br><span class="line"> <span class="keyword">let</span> lastExecTime = <span class="number">0</span>; <span class="comment">// 上次执行时间</span></span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"> <span class="keyword">const</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"> <span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br><span class="line"> <span class="keyword">if</span> (now - lastExecTime &gt;= limit) &#123;</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"> lastExecTime = now; <span class="comment">// 更新执行时间</span></span><br><span class="line"> &#125;</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-定时器版本（延迟执行）"><a href="#2-定时器版本（延迟执行）" class="headerlink" title="2. 定时器版本（延迟执行）"></a><strong>2. 定时器版本（延迟执行）</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, limit = <span class="number">300</span></span>) &#123;</span><br><span class="line"> <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"> <span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br><span class="line"> <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line"> timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"> timer = <span class="literal">null</span>; <span class="comment">// 重置定时器</span></span><br><span class="line"> &#125;, limit);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-混合版本（立即执行-延迟兜底）"><a href="#3-混合版本（立即执行-延迟兜底）" class="headerlink" title="3. 混合版本（立即执行 + 延迟兜底）"></a><strong>3. 混合版本（立即执行 + 延迟兜底）</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, limit = <span class="number">300</span></span>) &#123;</span><br><span class="line"> <span class="keyword">let</span> lastExecTime = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"> <span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br><span class="line"> <span class="keyword">const</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"> <span class="keyword">const</span> elapsed = now - lastExecTime;</span><br><span class="line"> <span class="comment">// 立即执行部分</span></span><br><span class="line"> <span class="keyword">if</span> (elapsed &gt;= limit) &#123;</span><br><span class="line"> <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"> lastExecTime = now;</span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> <span class="comment">// 延迟兜底部分（确保最后一次触发被执行）</span></span><br><span class="line"> <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line"> timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"> fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"> lastExecTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"> timer = <span class="literal">null</span>;</span><br><span class="line"> &#125;, limit - elapsed);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-使用示例"><a href="#4-使用示例" class="headerlink" title="4. 使用示例"></a><strong>4. 使用示例</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 滚动事件节流示例</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="title function_">throttle</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;滚动位置：&#x27;</span>, <span class="variable language_">window</span>.<span class="property">scrollY</span>);</span><br><span class="line">&#125;, <span class="number">200</span>));</span><br></pre></td></tr></table></figure>

<h3 id="三、核心区别对比"><a href="#三、核心区别对比" class="headerlink" title="三、核心区别对比"></a><strong>三、核心区别对比</strong></h3><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>防抖（Debounce）</strong></th>
<th><strong>节流（Throttle）</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>触发时机</strong></td>
<td>最后一次触发事件后延迟执行</td>
<td>在指定时间内只执行一次</td>
</tr>
<tr>
<td><strong>使用场景</strong></td>
<td>搜索框、表单验证、按钮防重复点击</td>
<td>滚动监听、鼠标移动、高频数据上报</td>
</tr>
<tr>
<td><strong>实现核心</strong></td>
<td>定时器（setTimeout）</td>
<td>时间戳或定时器</td>
</tr>
<tr>
<td><strong>执行次数</strong></td>
<td>事件停止触发后执行一次</td>
<td>事件持续触发时按固定频率执行</td>
</tr>
</tbody></table>
<h3 id="四、扩展优化"><a href="#四、扩展优化" class="headerlink" title="四、扩展优化"></a><strong>四、扩展优化</strong></h3><ol>
<li><p><strong>取消功能</strong>：允许手动取消未执行的回调</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> debounced = <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">&#125;, delay);</span><br><span class="line">&#125;;</span><br><span class="line">debounced.<span class="property">cancel</span> = <span class="function">() =&gt;</span> &#123; <span class="comment">// 添加取消方法</span></span><br><span class="line"><span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">timer = <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>返回值处理</strong>：支持获取回调函数的返回值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br><span class="line"><span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">const</span> result = fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line"><span class="title function_">resolve</span>(result);</span><br><span class="line">&#125;, delay);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> promise; <span class="comment">// 返回 Promise</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a><strong>五、总结</strong></h3></li>
</ol>
<ul>
<li><strong>防抖</strong> 适合处理 <strong>低频操作</strong>，确保操作结束后执行一次（如用户输入完成后搜索）。 </li>
<li><strong>节流</strong> 适合处理 <strong>高频操作</strong>，强制控制执行频率（如实时位置追踪）。 </li>
<li>根据场景选择实现方式（时间戳或定时器），并注意内存泄漏问题（及时清除定时器）。</li>
</ul>
<h2 id="这里涉及到闭包问题，你讲一下闭包"><a href="#这里涉及到闭包问题，你讲一下闭包" class="headerlink" title="这里涉及到闭包问题，你讲一下闭包"></a>这里涉及到闭包问题，你讲一下闭包</h2><p>闭包（Closure）是 JavaScript 中非常重要的概念，也是理解 JavaScript 函数式编程和作用域链的关键。下面从定义、原理、作用、应用场景和注意事项等方面详细讲解闭包。</p>
<h3 id="一、闭包的定义"><a href="#一、闭包的定义" class="headerlink" title="一、闭包的定义"></a><strong>一、闭包的定义</strong></h3><p>闭包是指<strong>函数与其周围状态（词法环境）的引用捆绑在一起形成的组合</strong>。简单来说，<strong>闭包允许一个函数访问并记住其外层作用域的变量，即使外层函数已经执行完毕</strong>。<br>闭包的形成需要满足两个条件：</p>
<ol>
<li><p><strong>嵌套函数</strong>：在一个函数内部定义另一个函数。</p>
</li>
<li><p><strong>内部函数引用外部函数的变量</strong>：内部函数使用了外层函数的参数或变量。</p>
<h3 id="二、闭包的原理：作用域链与内存机制"><a href="#二、闭包的原理：作用域链与内存机制" class="headerlink" title="二、闭包的原理：作用域链与内存机制"></a><strong>二、闭包的原理：作用域链与内存机制</strong></h3><h4 id="1-作用域链（Scope-Chain）"><a href="#1-作用域链（Scope-Chain）" class="headerlink" title="1. 作用域链（Scope Chain）"></a>1. <strong>作用域链（Scope Chain）</strong></h4></li>
</ol>
<ul>
<li><p>函数在定义时会创建一个<strong>词法作用域</strong>，记录函数内部和外部可访问的变量。</p>
</li>
<li><p>当内部函数被调用时，会沿着作用域链向上查找外层函数的变量，即使外层函数已执行结束，内部函数仍能通过引用访问这些变量。</p>
<h4 id="2-内存机制"><a href="#2-内存机制" class="headerlink" title="2. 内存机制"></a>2. <strong>内存机制</strong></h4></li>
<li><p>外层函数执行完毕后，其作用域本应被 JavaScript 引擎回收，但由于闭包引用了外层变量，这些变量会被保留在内存中，直到闭包被销毁。</p>
<h3 id="三、闭包的作用"><a href="#三、闭包的作用" class="headerlink" title="三、闭包的作用"></a><strong>三、闭包的作用</strong></h3><h4 id="1-变量私有化（封装）"><a href="#1-变量私有化（封装）" class="headerlink" title="1. 变量私有化（封装）"></a>1. <strong>变量私有化（封装）</strong></h4><p>闭包可以将变量限制在函数内部，避免全局污染，实现类似“私有属性”的效果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">counter</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>; <span class="comment">// 私有变量，外部无法直接访问</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// 闭包函数</span></span><br><span class="line">count++;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> add = <span class="title function_">counter</span>();</span><br><span class="line"><span class="title function_">add</span>(); <span class="comment">// 1</span></span><br><span class="line"><span class="title function_">add</span>(); <span class="comment">// 2（闭包记住了 count 的状态）</span></span><br></pre></td></tr></table></figure>

<h4 id="2-保存状态"><a href="#2-保存状态" class="headerlink" title="2. 保存状态"></a>2. <strong>保存状态</strong></h4><p>闭包可以“记住”外层函数的执行状态，常用于需要持久化数据的场景（如计数器、定时器等）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createTimer</span>(<span class="params">interval</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> timerId;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (timerId) <span class="built_in">clearInterval</span>(timerId); <span class="comment">// 清除上一个定时器</span></span><br><span class="line">timerId = <span class="built_in">setInterval</span>(callback, interval); <span class="comment">// 保存当前定时器 ID</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> myTimer = <span class="title function_">createTimer</span>(<span class="number">1000</span>);</span><br><span class="line"><span class="title function_">myTimer</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Tick&quot;</span>)); <span class="comment">// 每秒打印一次</span></span><br><span class="line"><span class="title function_">myTimer</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Changed&quot;</span>)); <span class="comment">// 清除前一个定时器，重新开始</span></span><br></pre></td></tr></table></figure>

<h4 id="3-函数柯里化（Currying）"><a href="#3-函数柯里化（Currying）" class="headerlink" title="3. 函数柯里化（Currying）"></a>3. <strong>函数柯里化（Currying）</strong></h4><p>通过闭包将多参数函数转换为单参数函数链，逐步处理参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">b</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">c</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> add5 = <span class="title function_">add</span>(<span class="number">5</span>); <span class="comment">// 固定第一个参数为 5</span></span><br><span class="line"><span class="keyword">const</span> add5And10 = <span class="title function_">add5</span>(<span class="number">10</span>); <span class="comment">// 固定第二个参数为 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add5And10</span>(<span class="number">15</span>)); <span class="comment">// 30（5 + 10 + 15）</span></span><br></pre></td></tr></table></figure>

<h3 id="四、闭包的经典应用场景"><a href="#四、闭包的经典应用场景" class="headerlink" title="四、闭包的经典应用场景"></a><strong>四、闭包的经典应用场景</strong></h3><h4 id="1-防抖与节流"><a href="#1-防抖与节流" class="headerlink" title="1. 防抖与节流"></a>1. <strong>防抖与节流</strong></h4><p>通过闭包保存定时器 ID 或上次执行时间，实现高频事件优化。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 防抖函数（闭包保存定时器 ID）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, delay</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> timeoutId;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br><span class="line"><span class="keyword">const</span> args = <span class="variable language_">arguments</span>;</span><br><span class="line"><span class="built_in">clearTimeout</span>(timeoutId); <span class="comment">// 清除上一次定时器</span></span><br><span class="line">timeoutId = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">&#125;, delay);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-模块化开发"><a href="#2-模块化开发" class="headerlink" title="2. 模块化开发"></a>2. <strong>模块化开发</strong></h4><p>在 IIFE（立即执行函数表达式）中使用闭包实现模块私有方法和属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable language_">module</span> = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">let</span> privateData = <span class="string">&quot;secret&quot;</span>; <span class="comment">// 私有数据</span></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="title function_">getPrivateData</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> privateData; <span class="comment">// 闭包访问私有数据</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>.<span class="title function_">getPrivateData</span>()); <span class="comment">// &quot;secret&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>.<span class="property">privateData</span>); <span class="comment">// undefined（无法直接访问私有变量）</span></span><br></pre></td></tr></table></figure>

<h4 id="3-事件处理函数"><a href="#3-事件处理函数" class="headerlink" title="3. 事件处理函数"></a>3. <strong>事件处理函数</strong></h4><p>在循环中为每个元素绑定事件时，闭包可保存当前迭代变量的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 错误示例：闭包共享同一个 i（ES5 环境）</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">btn[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 点击时输出 3（所有按钮共享同一个 i）</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 正确示例：通过闭包保存当前 i 的值</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">(<span class="keyword">function</span>(<span class="params">j</span>) &#123; <span class="comment">// 立即执行函数创建闭包，参数 j 接收当前 i 的值</span></span><br><span class="line">btn[j].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(j); <span class="comment">// 分别输出 0、1、2</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;)(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="五、闭包的注意事项"><a href="#五、闭包的注意事项" class="headerlink" title="五、闭包的注意事项"></a><strong>五、闭包的注意事项</strong></h3><h4 id="1-内存泄漏风险"><a href="#1-内存泄漏风险" class="headerlink" title="1. 内存泄漏风险"></a>1. <strong>内存泄漏风险</strong></h4></li>
<li><p>闭包会引用外层变量，若过度使用或未正确释放，可能导致内存占用过高。</p>
</li>
<li><p><strong>解决方案</strong>：不需要闭包时，手动将其设为 <code>null</code>，释放引用。</p>
<h4 id="2-变量作用域混淆"><a href="#2-变量作用域混淆" class="headerlink" title="2. 变量作用域混淆"></a>2. <strong>变量作用域混淆</strong></h4></li>
<li><p>注意区分函数定义时的作用域（词法作用域）和执行时的作用域，避免因作用域链查找错误导致逻辑问题。</p>
<h4 id="3-性能影响"><a href="#3-性能影响" class="headerlink" title="3. 性能影响"></a>3. <strong>性能影响</strong></h4></li>
<li><p>频繁创建闭包可能会影响内存性能，尤其是在循环或高频操作中，需谨慎使用。</p>
<h3 id="六、闭包与-ES6-块级作用域（let-const）"><a href="#六、闭包与-ES6-块级作用域（let-const）" class="headerlink" title="六、闭包与 ES6 块级作用域（let&#x2F;const）"></a><strong>六、闭包与 ES6 块级作用域（let&#x2F;const）</strong></h3><p>在 ES6 中，<code>let</code> 和 <code>const</code> 声明的变量具有块级作用域，循环中的闭包问题可更简洁地解决：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123; <span class="comment">// let 声明的 i 在每次循环中都是新的变量</span></span><br><span class="line">btn[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 分别输出 0、1、2（每个闭包绑定独立的 i）</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时，<code>let</code> 声明的 <code>i</code> 在每次循环迭代中会创建新的绑定，闭包会正确捕获当前迭代的值，无需额外的 IIFE。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h3><p>闭包是 JavaScript 的核心特性，本质是<strong>函数对其词法作用域的引用</strong>。合理使用闭包可以实现变量封装、状态保存等强大功能，但需注意内存管理和作用域问题。理解闭包有助于深入掌握 JavaScript 的异步编程、模块化开发等高级主题。</p>
</li>
</ul>
<h2 id="最后一次滚动经常必须出发事件，怎么跳过这个时间验证兜底？"><a href="#最后一次滚动经常必须出发事件，怎么跳过这个时间验证兜底？" class="headerlink" title="最后一次滚动经常必须出发事件，怎么跳过这个时间验证兜底？"></a>最后一次滚动经常必须出发事件，怎么跳过这个时间验证兜底？</h2><p>在滚动事件中，为了确保“最后一次滚动”一定触发事件（即使未达到节流&#x2F;防抖的时间间隔），可以通过<strong>时间戳+定时器的混合模式</strong>实现“兜底”逻辑。以下是具体解决方案：</p>
<h3 id="一、问题分析"><a href="#一、问题分析" class="headerlink" title="一、问题分析"></a><strong>一、问题分析</strong></h3><p>传统的节流&#x2F;防抖会因时间间隔限制，可能导致<strong>最后一次滚动事件未被触发</strong>（例如用户快速停止滚动时，剩余时间未达到阈值）。解决方案需要：</p>
<ol>
<li><p><strong>立即执行最后一次操作</strong>：确保滚动停止时强制触发事件。</p>
</li>
<li><p><strong>保留频率控制</strong>：在滚动过程中按频率触发，避免性能问题。</p>
<h3 id="二、混合模式节流函数（带兜底触发）"><a href="#二、混合模式节流函数（带兜底触发）" class="headerlink" title="二、混合模式节流函数（带兜底触发）"></a><strong>二、混合模式节流函数（带兜底触发）</strong></h3><h4 id="核心逻辑"><a href="#核心逻辑" class="headerlink" title="核心逻辑"></a><strong>核心逻辑</strong></h4></li>
</ol>
<ul>
<li><p><strong>时间戳模式</strong>：在滚动过程中，按固定间隔（如<code>300ms</code>）立即触发事件。</p>
</li>
<li><p><strong>定时器兜底</strong>：在滚动停止时，通过定时器确保最后一次事件触发。</p>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a><strong>代码实现</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttleWithLastCall</span>(<span class="params">fn, limit = <span class="number">300</span></span>) &#123;</span><br><span class="line"><span class="keyword">let</span> lastExecTime = <span class="number">0</span>; <span class="comment">// 上次执行时间</span></span><br><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span>; <span class="comment">// 兜底定时器</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"><span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>&#x2F;&#x2F; 立即执行部分：满足时间间隔时触发<br> if (now - lastExecTime &gt;&#x3D; limit) {<br> clearTimeout(timer); &#x2F;&#x2F; 清除兜底定时器<br> fn.apply(context, args); &#x2F;&#x2F; 执行事件<br> lastExecTime &#x3D; now; &#x2F;&#x2F; 更新时间戳<br> } else {<br> &#x2F;&#x2F; 兜底部分：滚动停止时触发最后一次事件<br> if (!timer) {<br> timer &#x3D; setTimeout(() &#x3D;&gt; {<br> fn.apply(context, args); &#x2F;&#x2F; 触发最后一次事件<br> lastExecTime &#x3D; Date.now(); &#x2F;&#x2F; 重置时间戳<br> timer &#x3D; null; &#x2F;&#x2F; 清除定时器<br> }, limit - (now - lastExecTime)); &#x2F;&#x2F; 计算剩余时间<br> }<br> }<br> };<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">### **三、关键机制解析**</span><br><span class="line">#### **1. 滚动过程中的频率控制**</span><br><span class="line">- 当滚动事件触发时，若距离上次执行时间超过`limit`（如300ms），立即执行事件并更新时间戳。</span><br><span class="line">- 示例：用户持续滚动时，事件按每300ms触发一次。</span><br><span class="line">#### **2. 滚动停止时的兜底触发**</span><br><span class="line">- 当用户停止滚动，剩余时间（`limit - (now - lastExecTime)`）会触发定时器。</span><br><span class="line">- 定时器到期后，强制执行最后一次事件，确保无论滚动何时停止，最终都会触发一次回调。</span><br><span class="line">#### **3. 动态调整剩余时间**</span><br><span class="line">- 通过`limit - (now - lastExecTime)`计算剩余时间，确保兜底定时器的延迟等于“距离下一次正常触发的时间”，避免延迟过长。</span><br><span class="line">### **四、使用示例（滚动事件监听）**</span><br><span class="line">```javascript</span><br><span class="line">const scrollHandler = throttleWithLastCall((scrollY) =&gt; &#123;</span><br><span class="line"> console.log(&#x27;当前滚动位置：&#x27;, scrollY);</span><br><span class="line">&#125;, 300); // 300ms 频率，最后一次滚动必触发</span><br><span class="line">window.addEventListener(&#x27;scroll&#x27;, () =&gt; &#123;</span><br><span class="line"> scrollHandler(window.scrollY);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="执行效果："><a href="#执行效果：" class="headerlink" title="执行效果："></a><strong>执行效果</strong>：</h4><ol>
<li><p><strong>快速滚动</strong>：事件按300ms间隔触发。</p>
</li>
<li><p><strong>停止滚动</strong>：无论何时停止，最多等待剩余时间（如停止时距上次触发已200ms，则等待100ms后触发最后一次）。</p>
<h3 id="五、优化点与注意事项"><a href="#五、优化点与注意事项" class="headerlink" title="五、优化点与注意事项"></a><strong>五、优化点与注意事项</strong></h3><h4 id="1-取消兜底定时器"><a href="#1-取消兜底定时器" class="headerlink" title="1. 取消兜底定时器"></a><strong>1. 取消兜底定时器</strong></h4><p>若在兜底定时器触发前再次滚动，可通过<code>clearTimeout(timer)</code>取消之前的延迟，避免多次兜底：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (now - lastExecTime &gt;= limit) &#123;</span><br><span class="line"><span class="built_in">clearTimeout</span>(timer); <span class="comment">// 重要：清除未触发的兜底定时器</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-区分普通触发与兜底触发"><a href="#2-区分普通触发与兜底触发" class="headerlink" title="2. 区分普通触发与兜底触发"></a><strong>2. 区分普通触发与兜底触发</strong></h4><p>如需标记是否为“兜底触发”，可通过参数传递状态：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttleWithLastCall</span>(<span class="params">fn, limit = <span class="number">300</span></span>) &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">fn.<span class="title function_">apply</span>(context, [...args, &#123; <span class="attr">isLast</span>: <span class="literal">true</span> &#125;]); <span class="comment">// 传递兜底标记</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;, ...);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用时判断</span></span><br><span class="line"><span class="title function_">scrollHandler</span>(<span class="function">(<span class="params">scrollY, &#123; isLast &#125;</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (isLast) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;最后一次滚动&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="3-性能平衡"><a href="#3-性能平衡" class="headerlink" title="3. 性能平衡"></a><strong>3. 性能平衡</strong></h4></li>
</ol>
<ul>
<li><p><strong><code>limit</code>不宜过小</strong>：过小的时间间隔会导致兜底触发频繁，失去意义（建议≥100ms）。</p>
</li>
<li><p><strong>避免过度回调</strong>：若兜底触发仍过于频繁，可结合业务需求调整逻辑（如设置最小触发间隔）。</p>
<h3 id="六、对比传统方案"><a href="#六、对比传统方案" class="headerlink" title="六、对比传统方案"></a><strong>六、对比传统方案</strong></h3><table>
<thead>
<tr>
<th><strong>方案</strong></th>
<th>最后一次触发</th>
<th>滚动中频率控制</th>
<th>实现复杂度</th>
</tr>
</thead>
<tbody><tr>
<td><strong>纯时间戳节流</strong></td>
<td>不保证</td>
<td>优</td>
<td>简单</td>
</tr>
<tr>
<td><strong>纯定时器节流</strong></td>
<td>保证</td>
<td>事件延迟触发</td>
<td>简单</td>
</tr>
<tr>
<td><strong>混合模式</strong></td>
<td><strong>保证</strong></td>
<td>立即触发+兜底</td>
<td>中等</td>
</tr>
</tbody></table>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a><strong>总结</strong></h3><p>通过混合使用时间戳和定时器，既能在滚动过程中按频率高效触发事件，又能确保最后一次滚动一定触发回调。此方案适用于需要实时反馈（如滚动加载、实时位置显示）且必须捕获最终状态的场景，平衡了性能与功能完整性。</p>
</li>
</ul>
<h2 id="你提到了-vue2-和-vue3，它们有什么区别？"><a href="#你提到了-vue2-和-vue3，它们有什么区别？" class="headerlink" title="你提到了 vue2 和 vue3，它们有什么区别？"></a>你提到了 vue2 和 vue3，它们有什么区别？</h2><p>Vue 2 和 Vue 3 是 Vue.js 框架的两个主要版本，两者在设计理念、性能、功能特性和开发体验等方面有显著区别。以下是核心差异的详细对比：</p>
<h3 id="一、响应式原理"><a href="#一、响应式原理" class="headerlink" title="一、响应式原理"></a><strong>一、响应式原理</strong></h3><h4 id="Vue-2"><a href="#Vue-2" class="headerlink" title="Vue 2"></a><strong>Vue 2</strong></h4><ul>
<li><p><strong>实现方式</strong>：基于 **Object.defineProperty()**，通过劫持对象的 <code>get</code>&#x2F;<code>set</code> 方法实现响应式。</p>
</li>
<li><p><strong>局限性</strong>：</p>
<ul>
<li><p>无法检测对象属性的新增或删除（需手动调用 <code>Vue.set</code> 或 <code>this.$set</code>）。</p>
</li>
<li><p>数组的某些变异方法（如 <code>push</code>&#x2F;<code>splice</code>）需要重写才能触发更新。</p>
</li>
<li><p>嵌套对象的响应式需要深度遍历，性能较低。</p>
<h4 id="Vue-3"><a href="#Vue-3" class="headerlink" title="Vue 3"></a><strong>Vue 3</strong></h4></li>
</ul>
</li>
<li><p><strong>实现方式</strong>：基于 <strong>Proxy</strong>（ES6 原生代理），直接代理整个对象，而非逐个属性劫持。</p>
</li>
<li><p><strong>优势</strong>：</p>
<ul>
<li><p>可直接检测对象属性的新增&#x2F;删除（无需 <code>Vue.set</code>）。</p>
</li>
<li><p>原生支持数组索引和长度变化的响应式。</p>
</li>
<li><p>响应式数据包裹更灵活（通过 <code>reactive</code>&#x2F;<code>ref</code> 函数），且嵌套对象无需深度遍历，性能更高。</p>
<h3 id="二、性能优化"><a href="#二、性能优化" class="headerlink" title="二、性能优化"></a><strong>二、性能优化</strong></h3><h4 id="Vue-2-1"><a href="#Vue-2-1" class="headerlink" title="Vue 2"></a><strong>Vue 2</strong></h4></li>
</ul>
</li>
<li><p>采用 <strong>虚拟 DOM diff 算法</strong>，但在大型应用中，依赖收集和更新范围可能不够精准。</p>
<h4 id="Vue-3-1"><a href="#Vue-3-1" class="headerlink" title="Vue 3"></a><strong>Vue 3</strong></h4></li>
<li><p><strong>优化点</strong>：</p>
<ul>
<li><strong>更快的虚拟 DOM diff</strong>：基于“最长递增子序列”算法，减少不必要的 DOM 操作。</li>
<li><strong>编译时优化</strong>：通过 <code>compileStatic</code> 标记静态节点，渲染时直接跳过 diff。</li>
<li>** Fragment 支持**：组件可返回多个根节点（无需包裹 <code>&lt;div&gt;</code>），减少冗余 DOM。</li>
<li><strong>响应式缓存优化</strong>：按需收集依赖，避免无效触发更新。</li>
</ul>
</li>
<li><p><strong>性能提升</strong>：相比 Vue 2，初始化渲染速度提升约 **55%**，更新速度提升约 **133%**（官方数据）。</p>
<h3 id="三、API-设计"><a href="#三、API-设计" class="headerlink" title="三、API 设计"></a><strong>三、API 设计</strong></h3><h4 id="选项式-API（Options-API）"><a href="#选项式-API（Options-API）" class="headerlink" title="选项式 API（Options API）"></a><strong>选项式 API（Options API）</strong></h4></li>
<li><p><strong>Vue 2&#x2F;3 均支持</strong>，但 Vue 3 对其进行了增强：</p>
<ul>
<li><p>新增 <code>setup</code> 选项（组合式 API 的入口）。</p>
</li>
<li><p><code>data</code> 选项可直接返回对象（无需函数）。</p>
<h4 id="组合式-API（Composition-API）"><a href="#组合式-API（Composition-API）" class="headerlink" title="组合式 API（Composition API）"></a><strong>组合式 API（Composition API）</strong></h4></li>
</ul>
</li>
<li><p><strong>Vue 3 新增核心特性</strong>，基于函数式编程思想：</p>
<ul>
<li><p><strong>逻辑复用更灵活</strong>：通过自定义 Hook 函数（如 <code>useMousePosition</code>）复用逻辑，避免 Vue 2 中 <code>mixins</code> 的命名冲突和逻辑割裂问题。</p>
</li>
<li><p><strong>响应式更直观</strong>：使用 <code>ref</code>&#x2F;<code>reactive</code> 显式创建响应式数据，搭配 <code>watch</code>&#x2F;<code>computed</code> 实现响应式逻辑。</p>
</li>
<li><p><strong>更好的类型推导</strong>：对 TypeScript 支持更友好，函数参数和返回值类型可直接推断。</p>
<h4 id="对比示例"><a href="#对比示例" class="headerlink" title="对比示例"></a><strong>对比示例</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Vue 2（选项式 API） --&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123; return &#123; count: 0 &#125; &#125;,</span><br><span class="line">methods: &#123; increment() &#123; this.count++ &#125; &#125;,</span><br><span class="line">mounted() &#123; console.log(this.count) &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- Vue 3（组合式 API） --&gt;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#x27;vue&#x27;;</span><br><span class="line">export default &#123;</span><br><span class="line">setup() &#123;</span><br><span class="line">const count = ref(0);</span><br><span class="line">const increment = () =&gt; count.value++;</span><br><span class="line">onMounted(() =&gt; console.log(count.value));</span><br><span class="line">return &#123; count, increment &#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="四、组件与生态"><a href="#四、组件与生态" class="headerlink" title="四、组件与生态"></a><strong>四、组件与生态</strong></h3><h4 id="组件语法"><a href="#组件语法" class="headerlink" title="组件语法"></a><strong>组件语法</strong></h4></li>
</ul>
</li>
<li><p><strong>Vue 3</strong> 支持 <strong>Teleport</strong>（传送门）和 <strong>Suspense</strong>（异步组件加载）：</p>
<ul>
<li><p><code>Teleport</code> 可将组件内容渲染到 DOM 树的任意位置（如弹窗挂载到 <code>body</code> 下）。</p>
</li>
<li><p><code>Suspense</code> 可优雅处理异步组件的加载状态（如 <code>loading</code>&#x2F;<code>error</code> 状态）。</p>
<h4 id="生态兼容性"><a href="#生态兼容性" class="headerlink" title="生态兼容性"></a><strong>生态兼容性</strong></h4></li>
</ul>
</li>
<li><p><strong>Vue 2</strong>：依赖 <code>vue-router@3</code>、<code>vuex@3</code> 等旧版本库。</p>
</li>
<li><p><strong>Vue 3</strong>：官方库全面升级（如 <code>vue-router@4</code>、<code>pinia</code> 替代 <code>vuex</code>），且提供了 <code>@vue/compat</code> 兼容包，可逐步迁移旧项目。</p>
<h3 id="五、其他重要差异"><a href="#五、其他重要差异" class="headerlink" title="五、其他重要差异"></a><strong>五、其他重要差异</strong></h3><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>Vue 2</strong></th>
<th><strong>Vue 3</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>全局 API</strong></td>
<td>挂载在 <code>Vue</code> 构造函数上（如 <code>Vue.component</code>）</td>
<td>通过 <code>createApp</code> 函数创建应用实例（更模块化）</td>
</tr>
<tr>
<td><strong>自定义指令钩子</strong></td>
<td><code>bind</code>&#x2F;<code>inserted</code>&#x2F;<code>update</code> 等</td>
<td>统一为 <code>beforeMount</code>&#x2F;<code>mounted</code>&#x2F;<code>beforeUpdate</code> 等（与组件生命周期对齐）</td>
</tr>
<tr>
<td><strong>Fragment 支持</strong></td>
<td>不支持（需单根节点）</td>
<td>支持（组件可返回多个根节点）</td>
</tr>
<tr>
<td><strong>Tree-shaking</strong></td>
<td>部分支持（需手动配置）</td>
<td>原生支持（打包时自动移除未使用的 API）</td>
</tr>
<tr>
<td><strong>TypeScript 支持</strong></td>
<td>需额外配置</td>
<td>内置完善的类型定义（第一类公民）</td>
</tr>
</tbody></table>
<h3 id="如何选择版本？"><a href="#如何选择版本？" class="headerlink" title="如何选择版本？"></a><strong>如何选择版本？</strong></h3></li>
<li><p><strong>新项目&#x2F;团队</strong>：优先选择 <strong>Vue 3</strong>，利用组合式 API 和性能优势，尤其适合中大型应用或需要 TypeScript 的场景。</p>
</li>
<li><p><strong>旧项目维护</strong>：若项目复杂且迁移成本高，可继续使用 <strong>Vue 2</strong>，但建议逐步规划升级（通过 <code>@vue/compat</code> 过渡）。</p>
</li>
<li><p><strong>生态考量</strong>：Vue 3 的新生态（如 <code>Vite</code>、<code>Pinia</code>）更现代，开发体验更优，而 Vue 2 生态趋于稳定但更新缓慢。<br>总之，Vue 3 通过响应式机制升级、组合式 API 和性能优化，解决了 Vue 2 的诸多痛点，是未来的主流方向。</p>
</li>
</ul>
<h2 id="谈一谈-vue3-的事件传递机制？"><a href="#谈一谈-vue3-的事件传递机制？" class="headerlink" title="谈一谈 vue3 的事件传递机制？"></a>谈一谈 vue3 的事件传递机制？</h2><ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/2503_90377662/article/details/147620153?spm=1011.2415.3001.5331" >事件传递机制<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<h2 id="讲讲重绘重排？"><a href="#讲讲重绘重排？" class="headerlink" title="讲讲重绘重排？"></a>讲讲重绘重排？</h2><ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/2503_90377662/article/details/147571203?spm=1011.2415.3001.5331" >重绘重排<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<h2 id="为什么-maven-使用自动更新依赖的机制，但是-vue-不使用？"><a href="#为什么-maven-使用自动更新依赖的机制，但是-vue-不使用？" class="headerlink" title="为什么 maven 使用自动更新依赖的机制，但是 vue 不使用？"></a>为什么 maven 使用自动更新依赖的机制，但是 vue 不使用？</h2><ul>
<li>工具定位不同，npm 是包管理工具，maven 是依赖管理工具，package 声明了依赖，但是实际版本信息会被 package-lock.json 锁定，这是为了确保以来的稳定性，防止自动更新造成的不兼容不稳定的问题</li>
</ul>
<p>工具定位不同： vue 是包管理工具 maven 是依赖管理工具</p>
<p>Vue 项目中的 <code>package.json</code> 文件虽然声明了依赖，但包的实际版本信息会被 <code>package-lock.json</code> 或 <code>yarn.lock</code> 锁定。这些锁文件是为了确保依赖版本的稳定性，防止自动更新带来不兼容或不稳定的问题，因此避免了在每次运行时自动更新依赖版本。</p>
<h2 id="毕设管理系统怎么解决的跨域问题？"><a href="#毕设管理系统怎么解决的跨域问题？" class="headerlink" title="毕设管理系统怎么解决的跨域问题？"></a>毕设管理系统怎么解决的跨域问题？</h2><ul>
<li>我是采用的配置代理服务器</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server</span>: &#123;</span><br><span class="line">   <span class="attr">proxy</span>: &#123;</span><br><span class="line">     <span class="string">&#x27;/api/&#x27;</span>: &#123;</span><br><span class="line">       <span class="comment">//target: &#x27;http://192.168.1.31:8855&#x27;,</span></span><br><span class="line">       <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8081&#x27;</span>,</span><br><span class="line">       <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>后端也可以解决跨域问题,可以直接配置全部的跨域请求，也能设置某些接口的跨域 @CrossOrigin(origins &#x3D; “<a class="link"   target="_blank" rel="noopener" href="http://localhost:3000/" >http://localhost:3000<i class="fas fa-external-link-alt"></i></a>“)</p>
</li>
<li><pre><code class="java">import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.CorsRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

@Configuration
public class WebConfig implements WebMvcConfigurer &#123;
@Override
public void addCorsMappings(CorsRegistry registry) &#123;
    // 配置允许跨域的路径，支持的请求方法，允许的来源等
    registry.addMapping(&quot;/**&quot;) // 允许所有路径进行跨域请求
            .allowedOrigins(&quot;http://localhost:3000&quot;) // 允许的域名，这里是前端地址
            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;) // 允许的请求方法
            .allowedHeaders(&quot;*&quot;) // 允许的请求头
            .allowCredentials(true) // 是否允许携带 Cookie
            .maxAge(3600); // 缓存 CORS 配置的时间，单位是秒
&#125;
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 最后我才用的还是前端解决，因为如果后端开启了广泛的 CORS 配置（例如允许所有域名 `*` 访问），就会造成潜在的安全隐患，尤其是在生产环境中。如果 CORS 配置不当，可能导致恶意网站访问你的 API，带来跨站脚本攻击（XSS）等安全风险。由后端直接解决跨域需要更加小心，确保跨域配置的安全性。而来也是希望后端更专注于业务逻辑的开发</span><br><span class="line"></span><br><span class="line">在 Vue 项目（如 Vue CLI 或 Vite 项目）中，`vue.config.js` 或 `vite.config.ts` 中的 `server.proxy` 配置通过 **代理服务器（Proxy）** 解决跨域问题。以下是其核心原理和配置解析：</span><br><span class="line"></span><br><span class="line">### **一、跨域问题的本质**</span><br><span class="line"></span><br><span class="line">浏览器的 **同源策略（Same-Origin Policy）** 限制非同源请求（协议、域名、端口任意一项不同）。例如：</span><br><span class="line"></span><br><span class="line">- 前端运行在 `http://localhost:8080`（前端域名/端口）</span><br><span class="line">- 后端 API 接口在 `http://localhost:8081`（后端域名/端口）</span><br><span class="line">  此时，前端直接请求 `http://localhost:8081/api` 会触发跨域错误。</span><br><span class="line">  </span><br><span class="line">  ### **二、代理服务器的核心原理**</span><br><span class="line">  </span><br><span class="line">  代理服务器作为前端和后端之间的 **中间层**，实现以下流程：</span><br><span class="line">1. 前端向 **同源地址**（如 `http://localhost:8080/api`）发起请求。</span><br><span class="line">2. 代理服务器接收请求后，将其转发到 **真实的后端地址**（如 `http://localhost:8081/api`）。</span><br><span class="line">3. 后端返回数据给代理服务器，再由代理服务器转发给前端。</span><br><span class="line">   **关键点**：由于前端和代理服务器属于 **同源**（同域名、同端口），浏览器允许这种请求，从而绕过跨域限制。</span><br><span class="line">   </span><br><span class="line">   ### **三、配置解析（以 Vue CLI 为例）**</span><br><span class="line">   </span><br><span class="line">   ```javascript</span><br><span class="line">   // vue.config.js</span><br><span class="line">   module.exports = &#123;</span><br><span class="line">   devServer: &#123; // Vue CLI 3+ 的代理配置</span><br><span class="line">   proxy: &#123;</span><br><span class="line">   &#x27;/api/&#x27;: &#123; // 匹配以 `/api/` 开头的请求路径</span><br><span class="line">   target: &#x27;http://localhost:8081&#x27;, // 真实后端地址（跨域的目标地址）</span><br><span class="line">   changeOrigin: true, // 关键配置！</span><br><span class="line">   // 其他可选配置</span><br><span class="line">   pathRewrite: &#123; &#x27;^/api&#x27;: &#x27;&#x27; &#125;, // 路径重写：去除请求路径中的 `/api` 前缀</span><br><span class="line">   secure: false, // 是否允许代理到 HTTPS 目标</span><br><span class="line">   ws: true // 是否代理 WebSocket 请求</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;;</span><br></pre></td></tr></table></figure>
 
 ### **四、关键配置项说明**
 
 #### 1. `changeOrigin: true`
</code></pre>
</li>
<li><p><strong>作用</strong>：让代理服务器在转发请求时，修改请求头中的 <code>Host</code> 字段，使其与 <code>target</code> 一致。</p>
</li>
<li><p><strong>场景</strong>：当后端需要根据 <code>Host</code> 字段判断请求来源时（如多个域名共享一个后端），必须设置为 <code>true</code>。</p>
</li>
<li><p><strong>示例</strong>：</p>
<ul>
<li><p>前端请求：<code>http://localhost:8080/api/user</code></p>
</li>
<li><p>代理后请求：<code>http://localhost:8081/user</code>（<code>Host</code> 头为 <code>localhost:8081</code>）</p>
<h4 id="2-pathRewrite"><a href="#2-pathRewrite" class="headerlink" title="2. pathRewrite"></a>2. <code>pathRewrite</code></h4></li>
</ul>
</li>
<li><p><strong>作用</strong>：修改请求路径，避免前端路径与后端路径产生冗余。</p>
</li>
<li><p><strong>示例</strong>：</p>
<ul>
<li><p>若后端接口实际路径为 <code>http://localhost:8081/user</code>，但前端习惯以 <code>/api</code> 作为前缀发起请求（如 <code>http://localhost:8080/api/user</code>），可通过 <code>pathRewrite</code> 去除前缀：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pathRewrite</span>: &#123;</span><br><span class="line"><span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">// 匹配路径开头的 `/api`，替换为空字符串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>最终代理请求路径为：<code>http://localhost:8081/user</code></p>
<h4 id="3-路径匹配规则"><a href="#3-路径匹配规则" class="headerlink" title="3. 路径匹配规则"></a>3. 路径匹配规则</h4></li>
</ul>
</li>
<li><p><strong>精确匹配</strong>：若配置 <code>&#39;/api&#39;</code>（不带 <code>/</code> 结尾），则仅匹配 <strong>完全等于 <code>/api</code></strong> 的路径（很少用）。</p>
</li>
<li><p><strong>前缀匹配</strong>：若配置 <code>&#39;/api/&#39;</code>（带 <code>/</code> 结尾），则匹配所有以 <code>/api/</code> 开头的路径（推荐写法）。</p>
<h3 id="五、代理的适用场景"><a href="#五、代理的适用场景" class="headerlink" title="五、代理的适用场景"></a><strong>五、代理的适用场景</strong></h3></li>
</ul>
<ol>
<li><strong>开发环境（Dev Server）</strong>：<ul>
<li>仅在本地开发时生效（<code>npm run serve</code>），打包后的生产环境需通过后端配置 CORS 或 Nginx 代理。</li>
</ul>
</li>
<li><strong>生产环境</strong>：<ul>
<li><p>需在后端服务器（如 Node.js、Nginx）中配置反向代理，而非依赖前端的代理配置。</p>
</li>
<li><p><strong>Nginx 示例</strong>：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span> your-domain.com;</span><br><span class="line"><span class="section">location</span> /api/ &#123;</span><br><span class="line"><span class="attribute">proxy_pass</span> http://backend-server:8081; // 代理到后端</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>; // 传递真实 <span class="attribute">Host</span> 头</span><br><span class="line">proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>; // 传递客户端 <span class="attribute">IP</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="六、常见问题与解决方案"><a href="#六、常见问题与解决方案" class="headerlink" title="六、常见问题与解决方案"></a><strong>六、常见问题与解决方案</strong></h3><h4 id="1-代理无效，仍报跨域错误"><a href="#1-代理无效，仍报跨域错误" class="headerlink" title="1. 代理无效，仍报跨域错误"></a>1. 代理无效，仍报跨域错误</h4></li>
</ul>
</li>
</ol>
<ul>
<li><p><strong>可能原因</strong>：</p>
<ul>
<li>未正确配置 <code>target</code> 地址（如 IP&#x2F;端口错误）。</li>
<li><code>changeOrigin</code> 未设置为 <code>true</code>，导致后端识别到跨域来源。</li>
<li>请求路径未匹配代理规则（如路径前缀写错）。</li>
</ul>
</li>
<li><p><strong>排查方法</strong>：</p>
<ul>
<li><p>在浏览器开发者工具中查看请求 URL，确认是否走代理（如 URL 显示为 <code>http://localhost:8080/api/...</code> 则走代理）。</p>
</li>
<li><p>检查后端是否返回正确的响应头（如 <code>Access-Control-Allow-Origin</code>），若代理未生效，可能需后端配合开启 CORS。</p>
<h4 id="2-生产环境跨域问题"><a href="#2-生产环境跨域问题" class="headerlink" title="2. 生产环境跨域问题"></a>2. 生产环境跨域问题</h4></li>
</ul>
</li>
<li><p><strong>原因</strong>：前端代理仅在开发环境生效，生产环境需后端配置 CORS 或通过服务器代理。</p>
</li>
<li><p><strong>解决方案</strong>：</p>
<ul>
<li><p>后端添加 CORS 响应头（推荐）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Express 示例</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>); <span class="comment">// 允许所有来源</span></span><br><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>);</span><br><span class="line"><span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>在生产环境服务器（如 Nginx）中配置反向代理。</p>
<h4 id="3-代理后接口返回-404"><a href="#3-代理后接口返回-404" class="headerlink" title="3. 代理后接口返回 404"></a>3. 代理后接口返回 404</h4></li>
</ul>
</li>
<li><p><strong>可能原因</strong>：路径重写错误，导致代理后的 URL 与后端实际路径不匹配。</p>
</li>
<li><p><strong>解决方案</strong>：调整 <code>pathRewrite</code> 配置，确保去除的前缀与前端请求路径一致。</p>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a><strong>总结</strong></h3><p>前端代理（<code>server.proxy</code>）是开发环境中解决跨域的便捷方案，核心原理是通过同源的代理服务器转发请求。生产环境需结合后端 CORS 或服务器代理实现跨域。配置时需注意路径匹配规则、<code>changeOrigin</code> 和 <code>pathRewrite</code> 的正确使用，以确保请求正确转发。</p>
</li>
</ul>
<h2 id="还有什么跨域解决方案吗？"><a href="#还有什么跨域解决方案吗？" class="headerlink" title="还有什么跨域解决方案吗？"></a>还有什么跨域解决方案吗？</h2><ul>
<li><p>jsonp</p>
</li>
<li><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/2503_90377662/article/details/147935022?spm=1011.2415.3001.5331" >JSONP-CSDN博客<i class="fas fa-external-link-alt"></i></a></p>
</li>
</ul>
<h2 id="你在项目中提到使用-HappyPack-与-DllPlugin-提升打包速度。请详细说明它们的原理、应用场景、Webpack5-中是否还推荐使用？为什么？"><a href="#你在项目中提到使用-HappyPack-与-DllPlugin-提升打包速度。请详细说明它们的原理、应用场景、Webpack5-中是否还推荐使用？为什么？" class="headerlink" title="你在项目中提到使用 HappyPack 与 DllPlugin 提升打包速度。请详细说明它们的原理、应用场景、Webpack5 中是否还推荐使用？为什么？"></a>你在项目中提到使用 HappyPack 与 DllPlugin 提升打包速度。请详细说明它们的原理、应用场景、Webpack5 中是否还推荐使用？为什么？</h2><ul>
<li><p>关于HappyPack：是基于Node.js的chile_process模块，通常用于babel-loader,ts-loader,css-loader等耗时操作，但是这个HappyPack已经不推荐使用了，Webpack5官方已经停止维护，实际开发中这个性能提升不明显，反而多开几个进程会提高IPC进程开销。</p>
</li>
<li><p>DllPlugin会将不会频繁改变的第三方库（React,vue,loadsh）打包成一个动态链接库，避免每次构建的时候重复编译，然后由DllReferencePlugin在主项目引入这些DLL，提高构建效率，但是维护成本比较高每次变化都要重新构建DLL。</p>
</li>
</ul>
<h2 id="你刚提到-HappyPack-和-DllPlugin-用于性能优化，但它们的核心场景是构建时间优化。-影响-Web-首屏加载性能的主要瓶颈有哪些？你是如何在实际中优化它们的？除了路由懒加载，还有哪些手段能有效缩短白屏时间？请尽量从资源体积、网络传输、解析渲染多个维度来思考，不止限于代码层面。"><a href="#你刚提到-HappyPack-和-DllPlugin-用于性能优化，但它们的核心场景是构建时间优化。-影响-Web-首屏加载性能的主要瓶颈有哪些？你是如何在实际中优化它们的？除了路由懒加载，还有哪些手段能有效缩短白屏时间？请尽量从资源体积、网络传输、解析渲染多个维度来思考，不止限于代码层面。" class="headerlink" title="你刚提到 HappyPack 和 DllPlugin 用于性能优化，但它们的核心场景是构建时间优化。  影响 Web 首屏加载性能的主要瓶颈有哪些？你是如何在实际中优化它们的？除了路由懒加载，还有哪些手段能有效缩短白屏时间？请尽量从资源体积、网络传输、解析渲染多个维度来思考，不止限于代码层面。"></a>你刚提到 HappyPack 和 DllPlugin 用于性能优化，但它们的核心场景是<strong>构建时间优化</strong>。  影响 Web 首屏加载性能的主要瓶颈有哪些？你是如何在实际中优化它们的？除了路由懒加载，还有哪些手段能有效缩短白屏时间？请尽量从资源体积、网络传输、解析渲染多个维度来思考，不止限于代码层面。</h2><ul>
<li><p>首屏加载瓶颈主要早四个方面：</p>
<ol>
<li><p>资源加载时间长（NetWork层面）</p>
<ul>
<li><p>JS&#x2F;CSS&#x2F;图片体积大或者并发少。</p>
</li>
<li><p>资源压缩不充分（未gzip,未brotli）.</p>
</li>
<li><p>网络请求阻塞（DNS,SSL，重定向等）</p>
</li>
</ul>
</li>
<li><p>JS解析执行慢（Parse&#x2F;compile&#x2F;Exec层）</p>
<ul>
<li><p>js打包后体积大，导致下载+解压+执行时间边长</p>
</li>
<li><p>单页面引用一开始下载了太多的组件逻辑</p>
</li>
</ul>
</li>
<li><p>DOM构建 + 样式层叠深，</p>
<ul>
<li><p>使用了复杂的布局或者动画</p>
</li>
<li><p>页面复杂度较高</p>
</li>
</ul>
</li>
<li><p>白屏时没有视觉反馈</p>
<ul>
<li>用户打开页面看到一片空白</li>
</ul>
</li>
</ol>
</li>
<li><p>解决方法：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>类别</th>
<th>优化策略</th>
<th>技术说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>资源加载优化</strong></td>
<td>路由懒加载 &#x2F; 组件懒加载</td>
<td><code>import()</code> 配合 Webpack 的 code splitting</td>
</tr>
<tr>
<td></td>
<td>Tree Shaking</td>
<td>移除未引用代码（需 ESM）</td>
</tr>
<tr>
<td></td>
<td>压缩与缓存</td>
<td>gzip、brotli、cache-control</td>
</tr>
<tr>
<td><strong>执行优化</strong></td>
<td>Webpack SplitChunks</td>
<td>将业务逻辑和第三方库分包加载</td>
</tr>
<tr>
<td></td>
<td>动态 import + prefetch&#x2F;preload</td>
<td>控制资源异步加载或提前预加载</td>
</tr>
<tr>
<td><strong>渲染优化</strong></td>
<td>Skeleton Screen（骨架屏）</td>
<td>避免用户看到“白板”，提升感知性能</td>
</tr>
<tr>
<td></td>
<td>SSR + Hydration</td>
<td>服务端渲染首屏 HTML，客户端再激活</td>
</tr>
<tr>
<td></td>
<td>Lazy hydration &#x2F; Island 架构</td>
<td>渐进式激活组件（前端微模块）</td>
</tr>
<tr>
<td><strong>其他</strong></td>
<td>使用 Lighthouse 或 Web Vitals 分析瓶颈</td>
<td>数据驱动优化，而非盲目优化</td>
</tr>
</tbody></table>
<h2 id="如何控制-bundle-拆分粒度？拆分太多会反而增加-HTTP-开销，如何权衡？"><a href="#如何控制-bundle-拆分粒度？拆分太多会反而增加-HTTP-开销，如何权衡？" class="headerlink" title="如何控制 bundle 拆分粒度？拆分太多会反而增加 HTTP 开销，如何权衡？"></a>如何控制 bundle 拆分粒度？拆分太多会反而增加 HTTP 开销，如何权衡？</h2><h2 id="preload-vs-prefetch-的区别是什么？用错可能适得其反。"><a href="#preload-vs-prefetch-的区别是什么？用错可能适得其反。" class="headerlink" title="preload vs prefetch 的区别是什么？用错可能适得其反。"></a>preload vs prefetch 的区别是什么？用错可能适得其反。</h2><h2 id="你是否了解-Quicklink、SW（Service-Worker）对首屏加载的加速作用？"><a href="#你是否了解-Quicklink、SW（Service-Worker）对首屏加载的加速作用？" class="headerlink" title="你是否了解 Quicklink、SW（Service Worker）对首屏加载的加速作用？"></a>你是否了解 Quicklink、SW（Service Worker）对首屏加载的加速作用？</h2><h2 id="请你解释下-WebFlux-和传统-Spring-MVC-在线程模型和执行模型上的本质区别。为什么-WebFlux-更适合高并发场景？是否真的“性能一定更好”？请结合-Reactor-的-Mono-Flux-模型具体说明。"><a href="#请你解释下-WebFlux-和传统-Spring-MVC-在线程模型和执行模型上的本质区别。为什么-WebFlux-更适合高并发场景？是否真的“性能一定更好”？请结合-Reactor-的-Mono-Flux-模型具体说明。" class="headerlink" title="请你解释下 WebFlux 和传统 Spring MVC 在线程模型和执行模型上的本质区别。为什么 WebFlux 更适合高并发场景？是否真的“性能一定更好”？请结合 Reactor 的 Mono&#x2F;Flux 模型具体说明。"></a>请你解释下 WebFlux 和传统 Spring MVC 在线程模型和执行模型上的本质区别。为什么 WebFlux 更适合高并发场景？是否真的“性能一定更好”？请结合 Reactor 的 Mono&#x2F;Flux 模型具体说明。</h2><ul>
<li>首先对比一下MVC和WebFlux</li>
</ul>
<table>
<thead>
<tr>
<th>项目</th>
<th>Spring MVC（Servlet）</th>
<th>Spring WebFlux（Reactive）</th>
</tr>
</thead>
<tbody><tr>
<td>核心协议</td>
<td>Servlet API（Tomcat）</td>
<td>Reactive Streams（Netty）</td>
</tr>
<tr>
<td>IO 模型</td>
<td>阻塞 IO（BIO）</td>
<td>非阻塞 IO（NIO）</td>
</tr>
<tr>
<td>每请求线程</td>
<td>一个线程处理一个请求</td>
<td>少量线程处理大量请求</td>
</tr>
<tr>
<td>编程模型</td>
<td>命令式（Imperative）</td>
<td>响应式（Reactive）</td>
</tr>
<tr>
<td>线程数瓶颈</td>
<td>线程池耗尽&#x2F;阻塞等待</td>
<td>事件驱动、回调链、异步非阻塞</td>
</tr>
</tbody></table>
<blockquote>
<p>Webflux使用Reactor库的Mono（0-1个值）和Flux(0-N个值)作为基本抽象，支持链式组合和延迟执行</p>
</blockquote>
<ul>
<li><p>背压机制：</p>
<ul>
<li><p>是消费者主导的数据流拉取机制。简单说就是上有告诉下有，我现在只需要处理X个数据项，可以防止上游数据暴涨，处理延迟。</p>
</li>
<li><p>在Reactor中</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Flux.range(<span class="number">1</span>, <span class="number">1000</span>)</span><br><span class="line">    .onBackpressureBuffer()</span><br><span class="line">    .subscribe(...);</span><br></pre></td></tr></table></figure>
</li>
<li><p>性能误区说明</p>
<ul>
<li><p>webflux并不是性能更优：</p>
<ul>
<li><p>对CPU密集型任务没有优势，比如视频转码</p>
</li>
<li><p>编程复杂度高，调试困难</p>
</li>
<li><p>如果依赖库本身是阻塞式的会拖慢整个响应链</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Mono&lt;User&gt; <span class="title function_">getUser</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> userRepository.findById(id)  <span class="comment">// R2DBC 非阻塞查询</span></span><br><span class="line">        .map(user -&gt; &#123;</span><br><span class="line">            user.setName(user.getName().toUpperCase());</span><br><span class="line">            <span class="keyword">return</span> user;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对比传统MVC</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/user/&#123;id&#125;&quot;)</span><br><span class="line">public User getUser(@PathVariable Long id) &#123;</span><br><span class="line">    return jdbcUserRepo.findById(id); // 阻塞</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="R2DBC-是如何实现非阻塞数据库访问的？它底层是如何避开-JDBC-的阻塞特性？使用时需要注意哪些兼容性问题？R2DBC-的事务是如何实现的？支持-ACID-吗？"><a href="#R2DBC-是如何实现非阻塞数据库访问的？它底层是如何避开-JDBC-的阻塞特性？使用时需要注意哪些兼容性问题？R2DBC-的事务是如何实现的？支持-ACID-吗？" class="headerlink" title="R2DBC 是如何实现非阻塞数据库访问的？它底层是如何避开 JDBC 的阻塞特性？使用时需要注意哪些兼容性问题？R2DBC 的事务是如何实现的？支持 ACID 吗？"></a>R2DBC 是如何实现非阻塞数据库访问的？它底层是如何避开 JDBC 的阻塞特性？使用时需要注意哪些兼容性问题？R2DBC 的事务是如何实现的？支持 ACID 吗？</h2><ul>
<li><p>R2DBC 是为了响应式编程设计的一种关系型数据库的非阻塞驱动标准，可以看作JDBC的异步版本，核心目标是为了解决JDBC是同步阻塞的，一条SQL执行完吓一跳才能进行下一条，无法容忍有WebFlux的非阻塞链路，就上提到的本身是阻塞式的会拖慢整个响应链</p>
</li>
<li><p>这不是一个对JDBC的封装而是一个全新的协议，完全绕开了JDBC，底层是Netty&#x2F;NIO编写的异步驱动</p>
</li>
<li><p>事件驱动：R2DBC是通过回调机制将数据库I&#x2F;O操作放入Reactor流中处理，返回的是Mono或者Flux</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Mono&lt;User&gt; user = dbClient.sql(<span class="string">&quot;SELECT * FROM user WHERE id = :id&quot;</span>)</span><br><span class="line">    .bind(<span class="string">&quot;id&quot;</span>, <span class="number">1</span>)</span><br><span class="line">    .map(row -&gt; toUser(row))</span><br><span class="line">    .one();</span><br></pre></td></tr></table></figure>

<h2 id="ref-和-reactive-有什么本质区别？你在实际项目中是如何选择它们的？有没有哪些坑你踩过？"><a href="#ref-和-reactive-有什么本质区别？你在实际项目中是如何选择它们的？有没有哪些坑你踩过？" class="headerlink" title="ref 和 reactive 有什么本质区别？你在实际项目中是如何选择它们的？有没有哪些坑你踩过？"></a><code>ref</code> 和 <code>reactive</code> 有什么本质区别？你在实际项目中是如何选择它们的？有没有哪些坑你踩过？</h2><table>
<thead>
<tr>
<th>维度</th>
<th><code>ref</code></th>
<th><code>reactive</code></th>
</tr>
</thead>
<tbody><tr>
<td>作用</td>
<td>将<strong>任意值（包括原始类型）</strong>变为响应式</td>
<td>将对象或数组转为响应式</td>
</tr>
<tr>
<td>包装形式</td>
<td>包装为 <code>&#123; value: xxx &#125;</code> 的对象</td>
<td>直接返回被 Proxy 包装的对象</td>
</tr>
<tr>
<td>访问方式</td>
<td>通过 <code>.value</code> 访问</td>
<td>直接访问属性</td>
</tr>
<tr>
<td>响应式原理</td>
<td>内部实现为 <code>reactive(&#123; value: xxx &#125;)</code></td>
<td>使用 Proxy 递归劫持对象属性</td>
</tr>
<tr>
<td>解构问题</td>
<td>解构会丢失响应性，需要 <code>toRefs()</code></td>
<td>解构同样会丢响应性，要 <code>toRefs()</code> 或 <code>toRaw()</code></td>
</tr>
<tr>
<td>使用场景</td>
<td>原始类型数据、响应式 DOM 引用等</td>
<td>表单对象、嵌套数据结构等</td>
</tr>
</tbody></table>
<ul>
<li><p>踩坑</p>
<ul>
<li>ref解构失效</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = <span class="title function_">ref</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;Mike&#x27;</span> &#125;)</span><br><span class="line"><span class="keyword">const</span> &#123; name &#125; = user.<span class="property">value</span>  <span class="comment">// name 不再是响应式的</span></span><br></pre></td></tr></table></figure>

<p>解决：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = <span class="title function_">reactive</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;Mike&#x27;</span> &#125;)</span><br><span class="line"><span class="keyword">const</span> &#123; name &#125; = <span class="title function_">toRefs</span>(user)</span><br></pre></td></tr></table></figure>

<p>reactive:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="title function_">reactive</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="keyword">const</span> newArr = arr.<span class="title function_">map</span>(<span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">2</span>) <span class="comment">// newArr 是普通数组</span></span><br></pre></td></tr></table></figure>

<h2 id="Vue3-的响应式系统是如何实现依赖收集与触发更新的？它相比-Vue2-的-Object-defineProperty-有哪些本质改进？你认为-Proxy-的缺点是什么？有没有无法拦截的操作？"><a href="#Vue3-的响应式系统是如何实现依赖收集与触发更新的？它相比-Vue2-的-Object-defineProperty-有哪些本质改进？你认为-Proxy-的缺点是什么？有没有无法拦截的操作？" class="headerlink" title="Vue3 的响应式系统是如何实现依赖收集与触发更新的？它相比 Vue2 的 Object.defineProperty 有哪些本质改进？你认为 Proxy 的缺点是什么？有没有无法拦截的操作？"></a>Vue3 的响应式系统是如何实现依赖收集与触发更新的？它相比 Vue2 的 Object.defineProperty 有哪些本质改进？你认为 Proxy 的缺点是什么？有没有无法拦截的操作？</h2><ul>
<li><p>vue3的响应式系统是由Proxy + Reflex + WeakMap实现的，目标是精准手机以来，按需触发，性能更优，功能更强</p>
<p> </p>
</li>
<li><p>响应式系统的核心数据结构：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// WeakMap: target -&gt; Map (key -&gt; Set(effect))</span></span><br><span class="line"><span class="keyword">const</span> targetMap = <span class="keyword">new</span> <span class="title class_">WeakMap</span>()</span><br></pre></td></tr></table></figure>

<p>Vue3 在创建响应式对象时，会用 Proxy 包装对象，并在“读取属性”时收集依赖、“写入属性”时触发响应。</p>
<p>  </p>
<ul>
<li>收集依赖机制（读取时）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="title function_">reactive</span>(&#123; <span class="attr">count</span>: <span class="number">0</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">count</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>执行该过程如下：</p>
<ol>
<li><p>执行 <code>obj.count</code> → 触发 Proxy 的 <code>get</code>。</p>
</li>
<li><p>内部调用 <code>track(target, key)</code>。</p>
</li>
<li><p>将当前副作用函数（effect）存入 <code>targetMap</code> 中对应的 key 下的 Set 中。</p>
</li>
</ol>
<p>     </p>
<ul>
<li>触发写入机制：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.<span class="property">count</span>++ <span class="comment">// 触发 Proxy 的 set</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>调用 <code>trigger(target, key)</code>。</p>
</li>
<li><p>从 <code>targetMap</code> 中找到 key 对应的所有副作用函数。</p>
</li>
<li><p>遍历调用，重新执行这些函数。</p>
</li>
</ol>
<ul>
<li>vue2的缺点：</li>
</ul>
<table>
<thead>
<tr>
<th>问题</th>
<th>Vue2</th>
</tr>
</thead>
<tbody><tr>
<td>新增&#x2F;删除属性</td>
<td>无法监听（需 <code>Vue.set()</code>）</td>
</tr>
<tr>
<td>数组下标</td>
<td>无法侦听 <code>arr[2] = xxx</code></td>
</tr>
<tr>
<td>深层嵌套对象</td>
<td>必须递归处理所有属性</td>
</tr>
<tr>
<td>性能</td>
<td>初始化递归对象属性开销大</td>
</tr>
<tr>
<td>原始类型</td>
<td>需包一层对象模拟</td>
</tr>
</tbody></table>
<ul>
<li>vue3的优势</li>
</ul>
<table>
<thead>
<tr>
<th>优点</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>拦截所有操作</td>
<td>包括新增、删除属性、for in、has</td>
</tr>
<tr>
<td>动态代理</td>
<td>无需递归，按需代理</td>
</tr>
<tr>
<td>数组方法兼容好</td>
<td>能拦截 <code>push/pop/splice</code> 等</td>
</tr>
<tr>
<td>性能更优</td>
<td>延迟代理、按需追踪依赖</td>
</tr>
<tr>
<td>支持原始类型响应式（通过 <code>ref</code>）</td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><p>Proxy的缺点</p>
<ul>
<li><p><strong>无法代理私有属性（#开头的）</strong></p>
</li>
<li><p><strong>无法代理基本类型（必须用 ref 包一层）</strong></p>
</li>
<li><p><strong>兼容性问题</strong>：不支持 IE11（也正因此 Vue3 放弃对 IE 的支持）</p>
</li>
</ul>
</li>
</ul>
<h2 id="如果你在-Vue3-中使用-reactive-创建了一个对象，对它执行-delete-操作会触发更新吗？为什么？Vue-是怎么拦截这个操作的？和-Reflect-deleteProperty-有什么关系？"><a href="#如果你在-Vue3-中使用-reactive-创建了一个对象，对它执行-delete-操作会触发更新吗？为什么？Vue-是怎么拦截这个操作的？和-Reflect-deleteProperty-有什么关系？" class="headerlink" title="如果你在 Vue3 中使用 reactive 创建了一个对象，对它执行 delete 操作会触发更新吗？为什么？Vue 是怎么拦截这个操作的？和 Reflect.deleteProperty() 有什么关系？"></a>如果你在 Vue3 中使用 <code>reactive</code> 创建了一个对象，对它执行 <code>delete</code> 操作会触发更新吗？为什么？Vue 是怎么拦截这个操作的？和 <code>Reflect.deleteProperty()</code> 有什么关系？</h2><ul>
<li><code>delete</code> 是可以触发响应式更新的（只要你是用 <code>reactive</code> 包裹过的对象）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> state = <span class="title function_">reactive</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;Mike&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;name is&#x27;</span>, state.<span class="property">name</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> state.<span class="property">name</span>  <span class="comment">// ✅ 触发更新，打印一次 undefined</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>vue3的底层机制</p>
</li>
<li><p>Vue 在内部用 Proxy 拦截所有操作，其中包括：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">deleteProperty</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> hadKey = <span class="title function_">hasOwn</span>(target, key)</span><br><span class="line">  <span class="keyword">const</span> result = <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, key)</span><br><span class="line">  <span class="keyword">if</span> (hadKey &amp;&amp; result) &#123;</span><br><span class="line">    <span class="title function_">trigger</span>(target, key, <span class="title class_">TriggerOpTypes</span>.<span class="property">DELETE</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>Reflect.deleteProperty()</code> 是与 <code>delete obj.prop</code> 等效的方法，能确保语义一致，并返回删除是否成功的布尔值。</p>
</blockquote>
<h2 id="请你详细说说：Vue3-中的-shallowReactive、readonly-和-shallowReadonly-有什么区别？实际开发中你用过哪种？能举一个你用-shallowReactive-的业务场景吗？"><a href="#请你详细说说：Vue3-中的-shallowReactive、readonly-和-shallowReadonly-有什么区别？实际开发中你用过哪种？能举一个你用-shallowReactive-的业务场景吗？" class="headerlink" title="请你详细说说：Vue3 中的 shallowReactive、readonly 和 shallowReadonly 有什么区别？实际开发中你用过哪种？能举一个你用 shallowReactive 的业务场景吗？"></a>请你详细说说：Vue3 中的 <code>shallowReactive</code>、<code>readonly</code> 和 <code>shallowReadonly</code> 有什么区别？实际开发中你用过哪种？能举一个你用 <code>shallowReactive</code> 的业务场景吗？</h2><table>
<thead>
<tr>
<th>API</th>
<th>是否递归代理</th>
<th>是否可写</th>
<th>应用场景</th>
</tr>
</thead>
<tbody><tr>
<td><code>reactive</code></td>
<td>✅ 是</td>
<td>✅ 可写</td>
<td>默认对象响应式转换</td>
</tr>
<tr>
<td><code>readonly</code></td>
<td>✅ 是</td>
<td>❌ 不可写</td>
<td>提供只读状态（防止意外修改）</td>
</tr>
<tr>
<td><code>shallowReactive</code></td>
<td>❌ 否（只代理第一层）</td>
<td>✅ 可写</td>
<td>大型对象性能优化，或只对顶层感兴趣的场景</td>
</tr>
<tr>
<td><code>shallowReadonly</code></td>
<td>❌ 否</td>
<td>❌ 不可写</td>
<td>对 props 等只读数据浅保护</td>
</tr>
</tbody></table>
<p>举例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Mike&#x27;</span>,</span><br><span class="line">  <span class="attr">info</span>: &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">obj.<span class="property">info</span>.<span class="property">age</span> = <span class="number">21</span>  <span class="comment">// ✅ 响应式更新</span></span><br></pre></td></tr></table></figure>

<ul>
<li>浅响应</li>
</ul>
<p>   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="title function_">shallowReactive</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Mike&#x27;</span>,</span><br><span class="line">  <span class="attr">info</span>: &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&#x27;Jack&#x27;</span>       <span class="comment">// ✅ 响应式</span></span><br><span class="line">obj.<span class="property">info</span>.<span class="property">age</span> = <span class="number">21</span>       <span class="comment">// ❌ 不响应</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>readonly shallowReadonly</p>
<ul>
<li><p>防止组件或第三方库<strong>修改传入数据</strong>。</p>
</li>
<li><p>可以保护 <code>props</code>、全局配置、缓存值等。</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = <span class="title function_">readonly</span>(&#123;</span><br><span class="line">  <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">data.<span class="property">count</span> = <span class="number">1</span>  <span class="comment">// ❌ Vue 会报警告，不能修改只读对象</span></span><br></pre></td></tr></table></figure>

<h2 id="Vue3-中你是如何组织大型应用的状态管理的？你是用-pinia-吗？pinia-的-store-是怎么支持响应式的？如何在-setup-中优雅地引入、拆分模块化-store？是否遇到过-SSR-或模块污染的问题？"><a href="#Vue3-中你是如何组织大型应用的状态管理的？你是用-pinia-吗？pinia-的-store-是怎么支持响应式的？如何在-setup-中优雅地引入、拆分模块化-store？是否遇到过-SSR-或模块污染的问题？" class="headerlink" title="Vue3 中你是如何组织大型应用的状态管理的？你是用 pinia 吗？pinia 的 store 是怎么支持响应式的？如何在 setup() 中优雅地引入、拆分模块化 store？是否遇到过 SSR 或模块污染的问题？"></a>Vue3 中你是如何组织大型应用的状态管理的？你是用 <code>pinia</code> 吗？pinia 的 store 是怎么支持响应式的？如何在 setup() 中优雅地引入、拆分模块化 store？是否遇到过 SSR 或模块污染的问题？</h2><ul>
<li><p>Pinia 是 Vue3 官方推荐的新一代状态管理库，<strong>相比 Vuex 更轻量、更组合式、更 TypeScript 友好</strong>。</p>
</li>
<li><p>piana的store本质上是一个reactive对象，其响应式机制主要是基于Vue3的响应式系统</p>
<ul>
<li><p><strong>state</strong>：使用 <code>reactive()</code> 包裹，使所有属性自动成为响应式</p>
</li>
<li><p><strong>getters</strong>：自动转换为计算属性 (computed)</p>
</li>
<li><p><strong>actions</strong>：普通函数，可直接修改 state</p>
</li>
</ul>
</li>
</ul>
<h2 id="Gzip的打包原理是什么？怎么配置的？"><a href="#Gzip的打包原理是什么？怎么配置的？" class="headerlink" title="Gzip的打包原理是什么？怎么配置的？"></a>Gzip的打包原理是什么？怎么配置的？</h2><h2 id="具体优化了多少？"><a href="#具体优化了多少？" class="headerlink" title="具体优化了多少？"></a>具体优化了多少？</h2><h2 id="怎么测试算法的性能？"><a href="#怎么测试算法的性能？" class="headerlink" title="怎么测试算法的性能？"></a>怎么测试算法的性能？</h2><h2 id="打包时执行npm-run-build发生了什么？"><a href="#打包时执行npm-run-build发生了什么？" class="headerlink" title="打包时执行npm run build发生了什么？"></a>打包时执行npm run build发生了什么？</h2><h2 id="讲讲你能想到的前端优化？"><a href="#讲讲你能想到的前端优化？" class="headerlink" title="讲讲你能想到的前端优化？"></a>讲讲你能想到的前端优化？</h2><h2 id="装饰器怎么使用的？为什么这么设计？"><a href="#装饰器怎么使用的？为什么这么设计？" class="headerlink" title="装饰器怎么使用的？为什么这么设计？"></a>装饰器怎么使用的？为什么这么设计？</h2><h2 id="二次封装的axios都有什么？为什么二次封装？"><a href="#二次封装的axios都有什么？为什么二次封装？" class="headerlink" title="二次封装的axios都有什么？为什么二次封装？"></a>二次封装的axios都有什么？为什么二次封装？</h2><h2 id="为什么使用-Ts-而不是-Js？"><a href="#为什么使用-Ts-而不是-Js？" class="headerlink" title="为什么使用 Ts 而不是 Js？"></a>为什么使用 Ts 而不是 Js？</h2><h2 id="大文件上传怎么设计的？（再看看源码）"><a href="#大文件上传怎么设计的？（再看看源码）" class="headerlink" title="大文件上传怎么设计的？（再看看源码）"></a>大文件上传怎么设计的？（再看看源码）</h2><ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/cpc980209/article/details/140093954" >大文件上传 :切片上传 + 断点续传 + 秒传 + 暂停上传<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<h2 id="如何防止恶意上传超大文件或重复请求打爆服务器？"><a href="#如何防止恶意上传超大文件或重复请求打爆服务器？" class="headerlink" title="如何防止恶意上传超大文件或重复请求打爆服务器？"></a>如何防止恶意上传超大文件或重复请求打爆服务器？</h2><h2 id="了解前端性能优化？你说一下你能想到的前端优化都有什么？"><a href="#了解前端性能优化？你说一下你能想到的前端优化都有什么？" class="headerlink" title="了解前端性能优化？你说一下你能想到的前端优化都有什么？"></a>了解前端性能优化？你说一下你能想到的前端优化都有什么？</h2><h2 id="新雪花算法解决了什么问题？"><a href="#新雪花算法解决了什么问题？" class="headerlink" title="新雪花算法解决了什么问题？"></a>新雪花算法解决了什么问题？</h2><h2 id="说一下常见的web攻击？"><a href="#说一下常见的web攻击？" class="headerlink" title="说一下常见的web攻击？"></a>说一下常见的web攻击？</h2><h2 id="浏览器渲染机制讲一下？"><a href="#浏览器渲染机制讲一下？" class="headerlink" title="浏览器渲染机制讲一下？"></a>浏览器渲染机制讲一下？</h2><h2 id="垃圾回收机制机制-？"><a href="#垃圾回收机制机制-？" class="headerlink" title="垃圾回收机制机制 ？"></a>垃圾回收机制机制 ？</h2><h2 id="Vite和Webpack有什么区别？"><a href="#Vite和Webpack有什么区别？" class="headerlink" title="Vite和Webpack有什么区别？"></a>Vite和Webpack有什么区别？</h2><h2 id="水平鉴权垂直鉴权是怎么做的？"><a href="#水平鉴权垂直鉴权是怎么做的？" class="headerlink" title="水平鉴权垂直鉴权是怎么做的？"></a>水平鉴权垂直鉴权是怎么做的？</h2><h2 id="加密算法用的哪个？为什么使用这个？"><a href="#加密算法用的哪个？为什么使用这个？" class="headerlink" title="加密算法用的哪个？为什么使用这个？"></a>加密算法用的哪个？为什么使用这个？</h2><h2 id="为什么采用mysql和nosql结合的方式"><a href="#为什么采用mysql和nosql结合的方式" class="headerlink" title="为什么采用mysql和nosql结合的方式"></a>为什么采用mysql和nosql结合的方式</h2><h2 id="数据库优化上都做了些什么"><a href="#数据库优化上都做了些什么" class="headerlink" title="数据库优化上都做了些什么"></a>数据库优化上都做了些什么</h2><h2 id="为什么动态import导入能提升首屏加载性能"><a href="#为什么动态import导入能提升首屏加载性能" class="headerlink" title="为什么动态import导入能提升首屏加载性能"></a>为什么动态import导入能提升首屏加载性能</h2><h2 id="前端性能测试都有什么怎么做的？怎么优化？"><a href="#前端性能测试都有什么怎么做的？怎么优化？" class="headerlink" title="前端性能测试都有什么怎么做的？怎么优化？"></a>前端性能测试都有什么怎么做的？怎么优化？</h2><h2 id="前端缓存讲一下"><a href="#前端缓存讲一下" class="headerlink" title="前端缓存讲一下"></a>前端缓存讲一下</h2><h2 id="什么是前端AST语法树？有什么应用？"><a href="#什么是前端AST语法树？有什么应用？" class="headerlink" title="什么是前端AST语法树？有什么应用？"></a>什么是前端AST语法树？有什么应用？</h2><h2 id="深拷贝浅拷贝讲一下"><a href="#深拷贝浅拷贝讲一下" class="headerlink" title="深拷贝浅拷贝讲一下"></a>深拷贝浅拷贝讲一下</h2><h2 id="讲一讲前端时间循环机制"><a href="#讲一讲前端时间循环机制" class="headerlink" title="讲一讲前端时间循环机制"></a>讲一讲前端时间循环机制</h2><h2 id="你的数据库怎么设计的？-为什么这么设计？"><a href="#你的数据库怎么设计的？-为什么这么设计？" class="headerlink" title="你的数据库怎么设计的？ 为什么这么设计？"></a>你的数据库怎么设计的？ 为什么这么设计？</h2><h2 id="IndexedDB讲一下"><a href="#IndexedDB讲一下" class="headerlink" title="IndexedDB讲一下"></a>IndexedDB讲一下</h2><h2 id="CI-CD全流程讲一下"><a href="#CI-CD全流程讲一下" class="headerlink" title="CI&#x2F;CD全流程讲一下"></a>CI&#x2F;CD全流程讲一下</h2><h2 id="怎么基于命令行创建一个空分支在github"><a href="#怎么基于命令行创建一个空分支在github" class="headerlink" title="怎么基于命令行创建一个空分支在github"></a>怎么基于命令行创建一个空分支在github</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git commit --allow-empty -m <span class="string">&quot;Initial empty commit&quot;</span></span><br><span class="line">git remote add origin https://github.com/username/repository.git</span><br><span class="line">git push origin master:empty-branch</span><br></pre></td></tr></table></figure>

<h2 id="为什么使用ts-和js有什么区别？"><a href="#为什么使用ts-和js有什么区别？" class="headerlink" title="为什么使用ts?和js有什么区别？"></a>为什么使用ts?和js有什么区别？</h2><h2 id="讲一讲你的项目上的亮点吧-你自己觉得比较有说法的点"><a href="#讲一讲你的项目上的亮点吧-你自己觉得比较有说法的点" class="headerlink" title="讲一讲你的项目上的亮点吧 你自己觉得比较有说法的点"></a>讲一讲你的项目上的亮点吧 你自己觉得比较有说法的点</h2><h2 id="讲一讲HTML5-CSS3，ES5-6新特性"><a href="#讲一讲HTML5-CSS3，ES5-6新特性" class="headerlink" title="讲一讲HTML5,CSS3，ES5&#x2F;6新特性"></a>讲一讲HTML5,CSS3，ES5&#x2F;6新特性</h2><h2 id="VUEX和Piana有什么区别？"><a href="#VUEX和Piana有什么区别？" class="headerlink" title="VUEX和Piana有什么区别？"></a>VUEX和Piana有什么区别？</h2><h2 id="讲讲HTTP协议？"><a href="#讲讲HTTP协议？" class="headerlink" title="讲讲HTTP协议？"></a>讲讲HTTP协议？</h2><h2 id="输入url到显示页面都发生了什么？"><a href="#输入url到显示页面都发生了什么？" class="headerlink" title="输入url到显示页面都发生了什么？"></a>输入url到显示页面都发生了什么？</h2>
                    
                </div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                    </div>
                    <div>
                        
                    </div>
                </div>

                

                
                    <div class="post-nav border-box">
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"
                                   title="内网穿透"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">内网穿透</span>
                                        <span class="post-nav-item">Next posts</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    






                
            </div>
        </div>

        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="copyright-info info-item">
        &copy;&nbsp;<span>2020</span>&nbsp;-&nbsp;2025
        
            &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">Keep Team</a>
        
    </div>

    <div class="theme-info info-item">
        Powered by&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;&&nbsp;Theme&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div>

    

    

    
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        

        <!-- PC go comment -->
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        

        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    

    <!-- tablet toc -->
    
</main>





<!-- common js -->

<script src="/js/utils.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/toggle-theme.js"></script>

<script src="/js/code-block.js"></script>

<script src="/js/main.js"></script>

<script src="/js/libs/anime.min.js"></script>


<!-- local search -->


<!-- lazyload -->


<div class="">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        
<script src="/js/post/post-helper.js"></script>


        <!-- toc -->
        

        <!-- copyright-info -->
        

        <!-- share -->
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->



</body>
</html>
